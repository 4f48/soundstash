import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{B as p}from"./button.Db3GhhwO.js";import{C as f,a as h,b as g,c as y,e as w,d as C}from"./card.gw5NK2rv.js";import{o as b,s as a,u as F,a as S,F as N,b as o,c as n,d as i,e as t,f as m}from"./types.Cnw1M-29.js";import{I as l}from"./input.CNO_L4t5.js";import{a as E}from"./client.BsjXsuL3.js";import{R as L}from"./index.DQLiH3RP.js";import{t as x}from"./index.n6X7SrFA.js";import{L as R}from"./loader-circle.BgR7_kSm.js";import"./createLucideIcon.DxLV4sYg.js";import"./index.B8Cg28y-.js";import"./index.C-Vi51-h.js";import"./index.CKz0Jdri.js";const B=b({name:a().nonempty(),email:a().email().nonempty(),password:a().nonempty()});function v(){const[c,d]=L.useState(!1),r=F({resolver:S(B),defaultValues:{name:"",email:"",password:""}});async function u(e){d(!0),await E.signUp.email({name:e.name,email:e.email,password:e.password},{onResponse:()=>d(!1),onSuccess:()=>{x.success("Successfully signed up.")},onError:({error:j})=>{x.error(`Failed to sign up: ${j.message}`)}})}return s.jsxs(f,{className:"w-full max-w-sm self-center my-auto",children:[s.jsxs(h,{children:[s.jsx(g,{children:"Create your account"}),s.jsx(y,{children:"Enter your email below to create an account."}),s.jsx(w,{children:s.jsx("a",{href:"/auth/signin",children:s.jsx(p,{variant:"link",children:"Sign in"})})})]}),s.jsx(C,{children:s.jsx(N,{...r,children:s.jsxs("form",{className:"flex flex-col gap-8",onSubmit:r.handleSubmit(u),children:[s.jsx(o,{control:r.control,name:"name",render:({field:e})=>s.jsxs(n,{children:[s.jsx(i,{children:"Username"}),s.jsx(t,{children:s.jsx(l,{placeholder:"Your Beautiful Name",...e})}),s.jsx(m,{})]})}),s.jsx(o,{control:r.control,name:"email",render:({field:e})=>s.jsxs(n,{children:[s.jsx(i,{children:"Email"}),s.jsx(t,{children:s.jsx(l,{placeholder:"you@example.com",...e})}),s.jsx(m,{})]})}),s.jsx(o,{control:r.control,name:"password",render:({field:e})=>s.jsxs(n,{children:[s.jsx(i,{children:"Password"}),s.jsx(t,{children:s.jsx(l,{type:"password",...e})}),s.jsx(m,{})]})}),s.jsxs(p,{type:"submit",disabled:c,className:"w-full",children:[c&&s.jsx(R,{className:"animate-spin"}),"Sign up"]})]})})})]})}export{v as default};
