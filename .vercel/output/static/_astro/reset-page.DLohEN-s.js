import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{B as i}from"./button.Db3GhhwO.js";import{C as l,a as d,b as c,c as p,d as u}from"./card.gw5NK2rv.js";import{o as f,s as x,u as j,a as h,F as w,b as y,c as b,d as C,e as F,f as g}from"./types.Cnw1M-29.js";import{I as S}from"./input.CNO_L4t5.js";import{a as N}from"./client.BsjXsuL3.js";import{n as E}from"./router.DnZMHVsn.js";import{r as L}from"./index.DQLiH3RP.js";import{L as T}from"./loader-circle.BgR7_kSm.js";import"./createLucideIcon.DxLV4sYg.js";import"./index.B8Cg28y-.js";import"./index.C-Vi51-h.js";import"./index.CKz0Jdri.js";const v=f({password:x().nonempty()});function J({token:t}){const[a,r]=L.useState(!1),e=j({resolver:h(v),defaultValues:{password:""}});async function m(o){r(!0),N.resetPassword({newPassword:o.password,token:t},{onSuccess:()=>{r(!1),setTimeout(()=>E("/auth/signin"),1e3)},onError:({error:n})=>{console.error(n),r(!1)}})}return s.jsxs(l,{className:"w-full max-w-sm self-center my-auto",children:[s.jsxs(d,{children:[s.jsx(c,{children:"Forgot your password?"}),s.jsx(p,{children:"Enter your email below to reset your password."})]}),s.jsx(u,{children:s.jsx(w,{...e,children:s.jsxs("form",{className:"space-y-4",onSubmit:e.handleSubmit(m),children:[s.jsx(y,{control:e.control,name:"password",render:({field:o})=>s.jsxs(b,{children:[s.jsx(C,{children:"New password"}),s.jsx(F,{children:s.jsx(S,{placeholder:"Something you'll remember",type:"password",...o})}),s.jsx(g,{})]})}),s.jsxs(i,{type:"submit",disabled:a,className:"w-full",children:[a&&s.jsx(T,{className:"animate-spin"}),"Save"]})]})})})]})}export{J as default};
