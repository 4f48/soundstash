import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{B as c}from"./button.Db3GhhwO.js";import{C as p,d}from"./card.gw5NK2rv.js";import{D as x,a as f,b as u,c as h,d as j,e as y}from"./dialog.CUSjS07t.js";import{o as g,s as C,u as b,a as F,F as D,b as N,c as w,d as S,f as P,e as T}from"./types.Cnw1M-29.js";import{I as v}from"./input.CNO_L4t5.js";import{n as O}from"./router.DnZMHVsn.js";import{R as I}from"./index.DQLiH3RP.js";import{P as R}from"./plus.Bt1tuZvd.js";import"./createLucideIcon.DxLV4sYg.js";import"./index.CKCoq1tz.js";import"./index.B8Cg28y-.js";import"./index.C-Vi51-h.js";import"./index.CKz0Jdri.js";const B=g({name:C().nonempty("You must name your playlist.").max(30)});function Q({count:r}){const[o,i]=I.useState(!1),s=b({resolver:F(B),defaultValues:{name:""}});async function n(a){const l={name:a.name},t=await fetch("/api/playlist/new",{body:JSON.stringify(l),headers:{"Content-Type":"application/json"},method:"POST"});if(t.ok){const m=await t.text();O(`/playlist/${m}`)}}return e.jsxs(x,{open:o,onOpenChange:i,children:[e.jsx(f,{children:e.jsx(p,{className:"w-38.5 h-44.5 flex items-center justify-center hover:bg-muted duration-100",children:e.jsxs(d,{className:"flex size-32 px-0 flex-col items-center justify-center gap-0",children:[e.jsx(R,{}),e.jsx("span",{className:"text-sm",children:"Create playlist"})]})})}),e.jsxs(u,{children:[e.jsxs(h,{children:[e.jsx(j,{children:"Create new playlist"}),e.jsx(y,{children:"Let's name your new playlist."})]}),e.jsx(D,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(n),className:"space-y-3",children:[e.jsx(N,{control:s.control,name:"name",render:({field:a})=>e.jsxs(w,{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{children:"Playlist name"}),e.jsx(P,{className:"flex-1 text-right"})]}),e.jsx(T,{children:e.jsx(v,{placeholder:`My Playlist #${r+1}`,...a})})]})}),e.jsx(c,{type:"submit",className:"w-full",children:"Create"})]})})]})]})}export{Q as default};
