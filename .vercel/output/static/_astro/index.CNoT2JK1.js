import{r as I,R as l}from"./index.DQLiH3RP.js";import{b as O,c as g}from"./index.CKCoq1tz.js";import{u as A,b as M}from"./button.Db3GhhwO.js";import{j as b}from"./jsx-runtime.D_zvdyIk.js";function L(e){const[c,d]=I.useState(void 0);return O(()=>{if(e){d({width:e.offsetWidth,height:e.offsetHeight});const x=new ResizeObserver(m=>{if(!Array.isArray(m)||!m.length)return;const a=m[0];let f,n;if("borderBoxSize"in a){const p=a.borderBoxSize,C=Array.isArray(p)?p[0]:p;f=C.inlineSize,n=C.blockSize}else f=e.offsetWidth,n=e.offsetHeight;d({width:f,height:n})});return x.observe(e,{box:"border-box"}),()=>x.unobserve(e)}else d(void 0)},[e]),c}function P(e){const c=e+"CollectionProvider",[d,x]=g(c),[m,a]=d(c,{collectionRef:{current:null},itemMap:new Map}),f=s=>{const{scope:t,children:u}=s,o=l.useRef(null),r=l.useRef(new Map).current;return b.jsx(m,{scope:t,itemMap:r,collectionRef:o,children:u})};f.displayName=c;const n=e+"CollectionSlot",p=M(n),C=l.forwardRef((s,t)=>{const{scope:u,children:o}=s,r=a(n,u),i=A(t,r.collectionRef);return b.jsx(p,{ref:i,children:o})});C.displayName=n;const R=e+"CollectionItemSlot",h="data-radix-collection-item",E=M(R),v=l.forwardRef((s,t)=>{const{scope:u,children:o,...r}=s,i=l.useRef(null),y=A(t,i),S=a(R,u);return l.useEffect(()=>(S.itemMap.set(i,{ref:i,...r}),()=>void S.itemMap.delete(i))),b.jsx(E,{[h]:"",ref:y,children:o})});v.displayName=R;function z(s){const t=a(e+"CollectionConsumer",s);return l.useCallback(()=>{const o=t.collectionRef.current;if(!o)return[];const r=Array.from(o.querySelectorAll(`[${h}]`));return Array.from(t.itemMap.values()).sort((S,N)=>r.indexOf(S.ref.current)-r.indexOf(N.ref.current))},[t.collectionRef,t.itemMap])}return[{Provider:f,Slot:C,ItemSlot:v},z,x]}var T=I.createContext(void 0);function k(e){const c=I.useContext(T);return e||c||"ltr"}export{k as a,P as c,L as u};
