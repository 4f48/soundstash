import{j as r}from"./jsx-runtime.D_zvdyIk.js";import{c as ne,a as Y,$ as q,b as Z,d as Ae,f as _e}from"./createLucideIcon.DxLV4sYg.js";import{r as i,R as W}from"./index.DQLiH3RP.js";import{u as k,B as le}from"./button.Db3GhhwO.js";import{c as se,u as Ne,a as R,b as De}from"./index.CKCoq1tz.js";import{u as Le,c as Ie}from"./index.VzuPkLNX.js";import{u as Me,a as ze}from"./index.CNoT2JK1.js";import{P as H,u as D,D as He,a as Oe,b as We,c as Be,d as Fe,e as Xe}from"./dialog.CUSjS07t.js";import{P as T}from"./index.B8Cg28y-.js";import{C as Ye}from"./check.CnxoWnC8.js";import{D as Ue,a as Ve,E as $e,b as qe,c as ee}from"./dropdown-menu.COVBS5Vz.js";import{T as ae,a as ce,b as z,c as B,u as Ke,d as Je,e as Ge,f as te,g as Qe,h as Ze}from"./index.Bv7MI9QC.js";import"./playlists.schema.Do3Lpyr0.js";import{P as et}from"./plus.Bt1tuZvd.js";import{T as tt}from"./title.Zzc6FAcR.js";import{I as rt}from"./input.CNO_L4t5.js";import{P as ot}from"./play.B9C71mVS.js";import"./index.C-Vi51-h.js";import"./index.CKz0Jdri.js";/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],lt=ne("clock",nt);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],at=ne("list-plus",st);var U="Checkbox",[ct,Jt]=se(U),[it,K]=ct(U);function dt(e){const{__scopeCheckbox:n,checked:o,children:a,defaultChecked:l,disabled:t,form:s,name:d,onCheckedChange:c,required:h,value:u="on",internal_do_not_use_render:p}=e,[f,m]=Ne({prop:o,defaultProp:l??!1,onChange:c,caller:U}),[x,S]=i.useState(null),[P,b]=i.useState(null),g=i.useRef(!1),A=x?!!s||!!x.closest("form"):!0,j={checked:f,disabled:t,setChecked:m,control:x,setControl:S,name:d,form:s,value:u,hasConsumerStoppedPropagationRef:g,required:h,defaultChecked:E(l)?!1:l,isFormControl:A,bubbleInput:P,setBubbleInput:b};return r.jsx(it,{scope:n,...j,children:ut(p)?p(j):a})}var ie="CheckboxTrigger",de=i.forwardRef(({__scopeCheckbox:e,onKeyDown:n,onClick:o,...a},l)=>{const{control:t,value:s,disabled:d,checked:c,required:h,setControl:u,setChecked:p,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:x}=K(ie,e),S=k(l,u),P=i.useRef(c);return i.useEffect(()=>{const b=t?.form;if(b){const g=()=>p(P.current);return b.addEventListener("reset",g),()=>b.removeEventListener("reset",g)}},[t,p]),r.jsx(T.button,{type:"button",role:"checkbox","aria-checked":E(c)?"mixed":c,"aria-required":h,"data-state":be(c),"data-disabled":d?"":void 0,disabled:d,value:s,...a,ref:S,onKeyDown:R(n,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:R(o,b=>{p(g=>E(g)?!0:!g),x&&m&&(f.current=b.isPropagationStopped(),f.current||b.stopPropagation())})})});de.displayName=ie;var ue=i.forwardRef((e,n)=>{const{__scopeCheckbox:o,name:a,checked:l,defaultChecked:t,required:s,disabled:d,value:c,onCheckedChange:h,form:u,...p}=e;return r.jsx(dt,{__scopeCheckbox:o,checked:l,defaultChecked:t,disabled:d,required:s,onCheckedChange:h,name:a,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>r.jsxs(r.Fragment,{children:[r.jsx(de,{...p,ref:n,__scopeCheckbox:o}),f&&r.jsx(me,{__scopeCheckbox:o})]})})});ue.displayName=U;var he="CheckboxIndicator",fe=i.forwardRef((e,n)=>{const{__scopeCheckbox:o,forceMount:a,...l}=e,t=K(he,o);return r.jsx(H,{present:a||E(t.checked)||t.checked===!0,children:r.jsx(T.span,{"data-state":be(t.checked),"data-disabled":t.disabled?"":void 0,...l,ref:n,style:{pointerEvents:"none",...e.style}})})});fe.displayName=he;var pe="CheckboxBubbleInput",me=i.forwardRef(({__scopeCheckbox:e,...n},o)=>{const{control:a,hasConsumerStoppedPropagationRef:l,checked:t,defaultChecked:s,required:d,disabled:c,name:h,value:u,form:p,bubbleInput:f,setBubbleInput:m}=K(pe,e),x=k(o,m),S=Le(t),P=Me(a);i.useEffect(()=>{const g=f;if(!g)return;const A=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(A,"checked").set,N=!l.current;if(S!==t&&_){const L=new Event("click",{bubbles:N});g.indeterminate=E(t),_.call(g,E(t)?!1:t),g.dispatchEvent(L)}},[f,S,t,l]);const b=i.useRef(E(t)?!1:t);return r.jsx(T.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??b.current,required:d,disabled:c,name:h,value:u,form:p,...n,tabIndex:-1,ref:x,style:{...n.style,...P,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});me.displayName=pe;function ut(e){return typeof e=="function"}function E(e){return e==="indeterminate"}function be(e){return E(e)?"indeterminate":e?"checked":"unchecked"}function re({className:e,...n}){return r.jsx(ue,{"data-slot":"checkbox",className:Y("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:r.jsx(fe,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:r.jsx(Ye,{className:"size-3.5"})})})}function ht({className:e,...n}){return r.jsx("div",{"data-slot":"skeleton",className:Y("bg-accent animate-pulse rounded-md",e),...n})}function ft(e,n){return i.useReducer((o,a)=>n[o][a]??o,e)}var J="ScrollArea",[xe,Gt]=se(J),[pt,w]=xe(J),ve=i.forwardRef((e,n)=>{const{__scopeScrollArea:o,type:a="hover",dir:l,scrollHideDelay:t=600,...s}=e,[d,c]=i.useState(null),[h,u]=i.useState(null),[p,f]=i.useState(null),[m,x]=i.useState(null),[S,P]=i.useState(null),[b,g]=i.useState(0),[A,j]=i.useState(0),[_,N]=i.useState(!1),[L,O]=i.useState(!1),v=k(n,I=>c(I)),C=ze(l);return r.jsx(pt,{scope:o,type:a,dir:C,scrollHideDelay:t,scrollArea:d,viewport:h,onViewportChange:u,content:p,onContentChange:f,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:_,onScrollbarXEnabledChange:N,scrollbarY:S,onScrollbarYChange:P,scrollbarYEnabled:L,onScrollbarYEnabledChange:O,onCornerWidthChange:g,onCornerHeightChange:j,children:r.jsx(T.div,{dir:C,...s,ref:v,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})})});ve.displayName=J;var ge="ScrollAreaViewport",Se=i.forwardRef((e,n)=>{const{__scopeScrollArea:o,children:a,nonce:l,...t}=e,s=w(ge,o),d=i.useRef(null),c=k(n,d,s.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),r.jsx(T.div,{"data-radix-scroll-area-viewport":"",...t,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});Se.displayName=ge;var y="ScrollAreaScrollbar",we=i.forwardRef((e,n)=>{const{forceMount:o,...a}=e,l=w(y,e.__scopeScrollArea),{onScrollbarXEnabledChange:t,onScrollbarYEnabledChange:s}=l,d=e.orientation==="horizontal";return i.useEffect(()=>(d?t(!0):s(!0),()=>{d?t(!1):s(!1)}),[d,t,s]),l.type==="hover"?r.jsx(mt,{...a,ref:n,forceMount:o}):l.type==="scroll"?r.jsx(bt,{...a,ref:n,forceMount:o}):l.type==="auto"?r.jsx(Ce,{...a,ref:n,forceMount:o}):l.type==="always"?r.jsx(G,{...a,ref:n}):null});we.displayName=y;var mt=i.forwardRef((e,n)=>{const{forceMount:o,...a}=e,l=w(y,e.__scopeScrollArea),[t,s]=i.useState(!1);return i.useEffect(()=>{const d=l.scrollArea;let c=0;if(d){const h=()=>{window.clearTimeout(c),s(!0)},u=()=>{c=window.setTimeout(()=>s(!1),l.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",u)}}},[l.scrollArea,l.scrollHideDelay]),r.jsx(H,{present:o||t,children:r.jsx(Ce,{"data-state":t?"visible":"hidden",...a,ref:n})})}),bt=i.forwardRef((e,n)=>{const{forceMount:o,...a}=e,l=w(y,e.__scopeScrollArea),t=e.orientation==="horizontal",s=$(()=>c("SCROLL_END"),100),[d,c]=ft("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return i.useEffect(()=>{if(d==="idle"){const h=window.setTimeout(()=>c("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(h)}},[d,l.scrollHideDelay,c]),i.useEffect(()=>{const h=l.viewport,u=t?"scrollLeft":"scrollTop";if(h){let p=h[u];const f=()=>{const m=h[u];p!==m&&(c("SCROLL"),s()),p=m};return h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[l.viewport,t,c,s]),r.jsx(H,{present:o||d!=="hidden",children:r.jsx(G,{"data-state":d==="hidden"?"hidden":"visible",...a,ref:n,onPointerEnter:R(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:R(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Ce=i.forwardRef((e,n)=>{const o=w(y,e.__scopeScrollArea),{forceMount:a,...l}=e,[t,s]=i.useState(!1),d=e.orientation==="horizontal",c=$(()=>{if(o.viewport){const h=o.viewport.offsetWidth<o.viewport.scrollWidth,u=o.viewport.offsetHeight<o.viewport.scrollHeight;s(d?h:u)}},10);return M(o.viewport,c),M(o.content,c),r.jsx(H,{present:a||t,children:r.jsx(G,{"data-state":t?"visible":"hidden",...l,ref:n})})}),G=i.forwardRef((e,n)=>{const{orientation:o="vertical",...a}=e,l=w(y,e.__scopeScrollArea),t=i.useRef(null),s=i.useRef(0),[d,c]=i.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=Ee(d.viewport,d.content),u={...a,sizes:d,onSizesChange:c,hasThumb:h>0&&h<1,onThumbChange:f=>t.current=f,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:f=>s.current=f};function p(f,m){return Ct(f,s.current,d,m)}return o==="horizontal"?r.jsx(xt,{...u,ref:n,onThumbPositionChange:()=>{if(l.viewport&&t.current){const f=l.viewport.scrollLeft,m=oe(f,d,l.dir);t.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{l.viewport&&(l.viewport.scrollLeft=f)},onDragScroll:f=>{l.viewport&&(l.viewport.scrollLeft=p(f,l.dir))}}):o==="vertical"?r.jsx(vt,{...u,ref:n,onThumbPositionChange:()=>{if(l.viewport&&t.current){const f=l.viewport.scrollTop,m=oe(f,d);t.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{l.viewport&&(l.viewport.scrollTop=f)},onDragScroll:f=>{l.viewport&&(l.viewport.scrollTop=p(f))}}):null}),xt=i.forwardRef((e,n)=>{const{sizes:o,onSizesChange:a,...l}=e,t=w(y,e.__scopeScrollArea),[s,d]=i.useState(),c=i.useRef(null),h=k(n,c,t.onScrollbarXChange);return i.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),r.jsx(Pe,{"data-orientation":"horizontal",...l,ref:h,sizes:o,style:{bottom:0,left:t.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:t.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":V(o)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,p)=>{if(t.viewport){const f=t.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),Te(f,p)&&u.preventDefault()}},onResize:()=>{c.current&&t.viewport&&s&&a({content:t.viewport.scrollWidth,viewport:t.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:X(s.paddingLeft),paddingEnd:X(s.paddingRight)}})}})}),vt=i.forwardRef((e,n)=>{const{sizes:o,onSizesChange:a,...l}=e,t=w(y,e.__scopeScrollArea),[s,d]=i.useState(),c=i.useRef(null),h=k(n,c,t.onScrollbarYChange);return i.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),r.jsx(Pe,{"data-orientation":"vertical",...l,ref:h,sizes:o,style:{top:0,right:t.dir==="ltr"?0:void 0,left:t.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":V(o)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,p)=>{if(t.viewport){const f=t.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),Te(f,p)&&u.preventDefault()}},onResize:()=>{c.current&&t.viewport&&s&&a({content:t.viewport.scrollHeight,viewport:t.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:X(s.paddingTop),paddingEnd:X(s.paddingBottom)}})}})}),[gt,ye]=xe(y),Pe=i.forwardRef((e,n)=>{const{__scopeScrollArea:o,sizes:a,hasThumb:l,onThumbChange:t,onThumbPointerUp:s,onThumbPointerDown:d,onThumbPositionChange:c,onDragScroll:h,onWheelScroll:u,onResize:p,...f}=e,m=w(y,o),[x,S]=i.useState(null),P=k(n,v=>S(v)),b=i.useRef(null),g=i.useRef(""),A=m.viewport,j=a.content-a.viewport,_=D(u),N=D(c),L=$(p,10);function O(v){if(b.current){const C=v.clientX-b.current.left,I=v.clientY-b.current.top;h({x:C,y:I})}}return i.useEffect(()=>{const v=C=>{const I=C.target;x?.contains(I)&&_(C,j)};return document.addEventListener("wheel",v,{passive:!1}),()=>document.removeEventListener("wheel",v,{passive:!1})},[A,x,j,_]),i.useEffect(N,[a,N]),M(x,L),M(m.content,L),r.jsx(gt,{scope:o,scrollbar:x,hasThumb:l,onThumbChange:D(t),onThumbPointerUp:D(s),onThumbPositionChange:N,onThumbPointerDown:D(d),children:r.jsx(T.div,{...f,ref:P,style:{position:"absolute",...f.style},onPointerDown:R(e.onPointerDown,v=>{v.button===0&&(v.target.setPointerCapture(v.pointerId),b.current=x.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),O(v))}),onPointerMove:R(e.onPointerMove,O),onPointerUp:R(e.onPointerUp,v=>{const C=v.target;C.hasPointerCapture(v.pointerId)&&C.releasePointerCapture(v.pointerId),document.body.style.webkitUserSelect=g.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),F="ScrollAreaThumb",Re=i.forwardRef((e,n)=>{const{forceMount:o,...a}=e,l=ye(F,e.__scopeScrollArea);return r.jsx(H,{present:o||l.hasThumb,children:r.jsx(St,{ref:n,...a})})}),St=i.forwardRef((e,n)=>{const{__scopeScrollArea:o,style:a,...l}=e,t=w(F,o),s=ye(F,o),{onThumbPositionChange:d}=s,c=k(n,p=>s.onThumbChange(p)),h=i.useRef(void 0),u=$(()=>{h.current&&(h.current(),h.current=void 0)},100);return i.useEffect(()=>{const p=t.viewport;if(p){const f=()=>{if(u(),!h.current){const m=yt(p,d);h.current=m,d()}};return d(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[t.viewport,u,d]),r.jsx(T.div,{"data-state":s.hasThumb?"visible":"hidden",...l,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:R(e.onPointerDownCapture,p=>{const m=p.target.getBoundingClientRect(),x=p.clientX-m.left,S=p.clientY-m.top;s.onThumbPointerDown({x,y:S})}),onPointerUp:R(e.onPointerUp,s.onThumbPointerUp)})});Re.displayName=F;var Q="ScrollAreaCorner",je=i.forwardRef((e,n)=>{const o=w(Q,e.__scopeScrollArea),a=!!(o.scrollbarX&&o.scrollbarY);return o.type!=="scroll"&&a?r.jsx(wt,{...e,ref:n}):null});je.displayName=Q;var wt=i.forwardRef((e,n)=>{const{__scopeScrollArea:o,...a}=e,l=w(Q,o),[t,s]=i.useState(0),[d,c]=i.useState(0),h=!!(t&&d);return M(l.scrollbarX,()=>{const u=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(u),c(u)}),M(l.scrollbarY,()=>{const u=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(u),s(u)}),h?r.jsx(T.div,{...a,ref:n,style:{width:t,height:d,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function X(e){return e?parseInt(e,10):0}function Ee(e,n){const o=e/n;return isNaN(o)?0:o}function V(e){const n=Ee(e.viewport,e.content),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-o)*n;return Math.max(a,18)}function Ct(e,n,o,a="ltr"){const l=V(o),t=l/2,s=n||t,d=l-s,c=o.scrollbar.paddingStart+s,h=o.scrollbar.size-o.scrollbar.paddingEnd-d,u=o.content-o.viewport,p=a==="ltr"?[0,u]:[u*-1,0];return ke([c,h],p)(e)}function oe(e,n,o="ltr"){const a=V(n),l=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,t=n.scrollbar.size-l,s=n.content-n.viewport,d=t-a,c=o==="ltr"?[0,s]:[s*-1,0],h=Ie(e,c);return ke([0,s],[0,d])(h)}function ke(e,n){return o=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const a=(n[1]-n[0])/(e[1]-e[0]);return n[0]+a*(o-e[0])}}function Te(e,n){return e>0&&e<n}var yt=(e,n=()=>{})=>{let o={left:e.scrollLeft,top:e.scrollTop},a=0;return function l(){const t={left:e.scrollLeft,top:e.scrollTop},s=o.left!==t.left,d=o.top!==t.top;(s||d)&&n(),o=t,a=window.requestAnimationFrame(l)}(),()=>window.cancelAnimationFrame(a)};function $(e,n){const o=D(e),a=i.useRef(0);return i.useEffect(()=>()=>window.clearTimeout(a.current),[]),i.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(o,n)},[o,n])}function M(e,n){const o=D(n);De(()=>{let a=0;if(e){const l=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(o)});return l.observe(e),()=>{window.cancelAnimationFrame(a),l.unobserve(e)}}},[e,o])}var Pt=ve,Rt=Se,jt=je;function Et({className:e,children:n,...o}){return r.jsxs(Pt,{"data-slot":"scroll-area",className:Y("relative",e),...o,children:[r.jsx(Rt,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:n}),r.jsx(kt,{}),r.jsx(jt,{})]})}function kt({className:e,orientation:n="vertical",...o}){return r.jsx(we,{"data-slot":"scroll-area-scrollbar",orientation:n,className:Y("flex touch-none p-px transition-colors select-none",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...o,children:r.jsx(Re,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function Tt({track:e}){const[n,o]=W.useState(!1),[a,l]=W.useState(),[t,s]=W.useState();async function d(){const h=await(await fetch("/api/playlist/list")).json(),p=await(await fetch(`/api/playlist/track?id=${e.id}`)).json();l(h),s(p.map(({id:f})=>f))}return W.useEffect(()=>{n&&(l(void 0),(async()=>await d())())},[n]),r.jsxs(He,{open:n,onOpenChange:o,children:[r.jsxs(Ue,{children:[r.jsx(Ve,{asChild:!0,children:r.jsxs(le,{variant:"ghost",size:"icon",children:[r.jsx("span",{className:"sr-only",children:"Open actions menu"}),r.jsx($e,{})]})}),r.jsxs(qe,{children:[r.jsxs(ee,{onClick:()=>{const c=q.get();q.set([...c,e])},children:[r.jsx(at,{}),"Add to queue"]}),r.jsx(Oe,{asChild:!0,children:r.jsxs(ee,{children:[r.jsx(et,{}),"Add to playlist"]})})]})]}),r.jsxs(We,{children:[r.jsxs(Be,{children:[r.jsx(Fe,{children:"Add to playlist"}),r.jsxs(Xe,{children:['Add "',e.title,'" to a playlist for seamless listening sessions.']})]}),r.jsx(Et,{className:"h-[30vh]",children:r.jsx(ae,{children:r.jsx(ce,{children:a&&t?a.map(c=>r.jsxs(z,{className:"flex items-center pr-2 gap-5",children:[r.jsx(B,{className:"flex-1",children:c.name}),r.jsx("td",{className:"flex items-center",children:r.jsx(re,{checked:t.includes(c.id),onClick:async()=>{const h={playlistId:c.id,trackId:e.id};await fetch(t.includes(c.id)?"/api/playlist/remove":"/api/playlist/add",{body:JSON.stringify(h),headers:{"Content-Type":"application/json"},method:"POST"}),await d()}})})]},c.id)):[...Array(3)].map((c,h)=>r.jsxs(z,{className:"flex items-center gap-5",children:[r.jsx(B,{className:"flex-1",children:r.jsx(ht,{className:"h-3 rounded-full"})}),r.jsx("td",{className:"flex items-center",children:r.jsx(re,{disabled:!0})})]},h))})})})]})]})}function Qt({tracks:e}){const[n,o]=i.useState([]),a=[{id:"play",header:"#",size:1,cell:({row:t})=>r.jsx(r.Fragment,{children:r.jsxs(le,{size:"icon",variant:"ghost",onClick:async()=>{Z.set(!1),q.set(e),Ae.set(t.index),Z.set(!0)},children:[r.jsx("span",{className:"group-hover:hidden block",children:t.index+1}),r.jsx(ot,{className:"group-hover:flex m-0 hidden"})]})})},{accessorKey:"title",header:"Title",size:400,cell:({row:t})=>{const s=t.original;return r.jsx(tt,{artist:s.artist,id:s.id,title:s.title})}},{accessorKey:"album",header:"Album",cell:({row:t})=>{const s=t.original;return s.album?s.album:"-"}},{accessorKey:"length",header:()=>r.jsx(lt,{className:"size-4"}),cell:({row:t})=>{const s=t.original;return _e(s.length)}},{id:"actions",cell:({row:t})=>{const s=t.original;return r.jsx(Tt,{track:s})}}],l=Ke({columns:a,data:e,getCoreRowModel:Ze(),getFilteredRowModel:Qe(),onColumnFiltersChange:o,state:{columnFilters:n}});return r.jsxs("main",{children:[r.jsx(rt,{className:"max-w-sm",onChange:t=>l.getColumn("title")?.setFilterValue(t.target.value),placeholder:"Filter by title...",value:l.getColumn("title")?.getFilterValue()??""}),r.jsxs(ae,{children:[r.jsx(Je,{children:l.getHeaderGroups().map(t=>r.jsx(z,{children:t.headers.map(s=>r.jsx(Ge,{style:{width:s.column.columnDef.size},children:s.isPlaceholder?null:te(s.column.columnDef.header,s.getContext())},s.id))},t.id))}),r.jsx(ce,{children:l.getRowModel().rows?.length?l.getRowModel().rows.map(t=>r.jsx(z,{"data-state":t.getIsSelected()&&"selected",children:t.getVisibleCells().map(s=>r.jsx(B,{width:s.column.columnDef.size,children:te(s.column.columnDef.cell,s.getContext())},s.id))},t.id)):r.jsx(z,{children:r.jsx(B,{colSpan:a.length,className:"h-24 text-center",children:"You don't have any tracks yet."})})})]})]})}export{Qt as default};
